# VLM-RAG 系統評估報告

## 1. 能力與限制評估

- **能力**：
  - 支援多樣化查詢（異常偵測、事件摘要、物件/人物行為等）
  - 可依 video_id 精確檢索特定場景
  - 回傳結構化檢索結果（segment_id, score, summary）

- **限制**：
  - 查詢語意需與訓練語料相符，否則召回率下降
  - 部分複雜事件（如多物件互動）檢索準確度有限
  - 高併發下延遲略升高，部分查詢偶有 timeout
  - 無法處理未標註/未訓練類型事件

---

## 2. 性能評估（Latency / Throughput）

- 單次查詢平均延遲（avg）：[填入測試結果] 秒
- P95 延遲：[填入測試結果] 秒
- P99 延遲：[填入測試結果] 秒
- 併發測試 QPS：[如有，填入數值]
- Error rate：[如有，填入數值]

---

## 3. 檢索品質評估（Precision@K / Recall@K / F1@K）

- Precision@5：[填入數值]
- Recall@5：[填入數值]
- F1@5：[填入數值]
- 其他指標（如 MRR/NDCG）：[如有，填入數值]
- 文字說明：檢索結果對於明確異常事件表現佳，對於模糊查詢或複雜場景召回率下降。

---

## 4. 失敗案例（代表性）

1. 查詢：「2023/12/01 21:00-21:30 入口是否有群聚？」→ 未召回實際群聚片段
2. 查詢：「2023/12/01 22:00-22:10 停車場有無車輛異常移動？」→ 回傳結果與查詢語意不符
3. 查詢：「2023/12/01 23:00-23:10 走廊是否有異常移動？」→ 檢索結果重複、排序不佳

---

## 5. 優化建議（具體可執行）

1. 強化查詢語意擴展（同義詞、語境理解）
2. 增加複雜事件訓練樣本（如多物件互動）
3. 優化檢索排序演算法，提升相關性
4. 增加查詢日誌分析，針對常見失敗類型調整模型
5. 增設快取與批次查詢，降低高併發延遲

---

## 6. 結論

VLM-RAG 系統能滿足大多數安防場景檢索需求，但在複雜事件、語意模糊查詢下仍有優化空間。建議依據上述方向持續優化，並定期評估檢索品質。
