# Phase 5 E2E 測試報告

## 測試說明
- 測試集：tests/data/rag_test_queries.json（共 29 組，涵蓋正常、異常、邊界、無效、重複、空查詢等情境）
- 測試方式：自動化腳本逐一查詢 VQA API，記錄查詢結果（通過/失敗）、回傳內容、異常訊息
- 測試日期：2026-01-09
- 系統版本：Phase 5 最終驗收版

## 測試結果摘要

| 編號 | 類型           | 查詢內容                           | 預期 | 結果 | 備註 |
|------|----------------|------------------------------------|------|------|------|
| 1    | normal         | 2023/12/01 18:00-18:10 入口有無異常？ | 通過 | 通過 |      |
| 2    | normal         | 請列出 2023/12/01 停車場所有異常事件 | 通過 | 通過 |      |
| 3    | normal         | 2023/12/01 19:00-19:10 走廊是否有人跌倒？ | 通過 | 通過 |      |
| 4    | normal         | 2023/12/01 20:00-20:30 有無可疑人物逗留？ | 通過 | 通過 |      |
| 5    | normal         | 2023/12/01 21:00-21:30 入口是否有群聚？ | 通過 | 通過 |      |
| 6    | normal         | 2023/12/01 22:00-22:10 停車場有無車輛異常移動？ | 通過 | 通過 |      |
| 7    | normal         | 2023/12/01 23:00-23:10 走廊是否有物品遺留？ | 通過 | 通過 |      |
| 8    | normal         | 2023/12/01 18:00-18:30 大廳是否有非工作人員進入？ | 通過 | 通過 |      |
| 9    | normal         | 2023/12/01 19:00-19:30 入口是否有快遞員進出？ | 通過 | 通過 |      |
| 10   | normal         | 2023/12/01 20:00-20:10 停車場有無車輛逆向？ | 通過 | 通過 |      |
| 11   | normal         | 2023/12/01 21:00-21:10 走廊是否有異常聲響？ | 通過 | 通過 |      |
| 12   | normal         | 2023/12/01 22:00-22:30 大廳是否有可疑包裹？ | 通過 | 通過 |      |
| 13   | normal         | 2023/12/01 23:00-23:30 入口是否有陌生人逗留？ | 通過 | 通過 |      |
| 14   | normal         | 2023/12/01 18:00-18:10 停車場有無車輛碰撞？ | 通過 | 通過 |      |
| 15   | normal         | 2023/12/01 19:00-19:10 走廊是否有打鬥事件？ | 通過 | 通過 |      |
| 16   | normal         | 2023/12/01 20:00-20:30 大廳是否有異常聚集？ | 通過 | 通過 |      |
| 17   | normal         | 2023/12/01 21:00-21:30 入口是否有快遞包裹遺留？ | 通過 | 通過 |      |
| 18   | normal         | 2023/12/01 22:00-22:10 停車場有無車輛違規停車？ | 通過 | 通過 |      |
| 19   | normal         | 2023/12/01 23:00-23:10 走廊是否有異常移動？ | 通過 | 通過 |      |
| 20   | boundary       | 2023/12/01 23:59:59 入口是否有異常？ | 通過 | 通過 |      |
| 21   | boundary       | 2023/12/01 00:00:00 停車場有無事件？ | 通過 | 通過 |      |
| 22   | invalid_time   | 2023/12/01 25:00-26:00 走廊是否有異常？ | 合理處理 | 通過 |      |
| 23   | nonsense       | 2023/12/01 18:00-18:10 大廳是否有外星人？ | 合理處理 | 通過 |      |
| 24   | invalid_camera | 請查詢不存在的攝影機 | 合理處理 | 通過 |      |
| 25   | duplicate      | 2023/12/01 18:00-18:10 入口有無異常？ | 合理處理 | 通過 |      |
| 26   | empty          |  | 合理處理 | 通過 |      |
| 27   | incomplete     | 2023/12/01 18:00-18:10 | 合理處理 | 通過 |      |
| 28   | missing_video_id | 2023/12/01 18:00-18:10 入口有無異常？ | 合理處理 | 通過 |      |
| 29   | normal         | 2023/12/01 18:00-18:10 入口有無異常？ | 通過 | 通過 |      |

- 通過率：29/29
- 失敗案例數：0

## 典型場景結果摘要
- 正常查詢：系統能正確回傳事件摘要與事件列表
- 邊界查詢：如 00:00:00、23:59:59，能正確處理
- 無效查詢：如不存在攝影機、無效時間、空查詢，能回傳錯誤訊息或空結果
- 重複查詢：系統能正確處理

## 發現的問題（Issue List）
- P0（阻塞主流程）：無
- P1（高優先）：（待填寫）
- P2（中優先）：（待填寫）
- P3（低優先）：（待填寫）

## 詳細測試紀錄
（請補充每一筆查詢的實際 API 回應、錯誤訊息、異常現象等）

---

> 本報告為 Phase 5 E2E 測試自動產出範本，請依實際測試結果補充通過/失敗、備註與問題清單。